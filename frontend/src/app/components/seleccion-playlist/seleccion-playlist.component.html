<div class="container-setup">
  
  <div class="content-wrapper">

    <div *ngIf="!spotifyConnected" class="connect-screen fade-in">
      <div class="glass-card connect-card">
        <div class="icon-pulse">ðŸ”Œ</div>
        <h2>SincronizaciÃ³n Requerida</h2>
        <p>Conecta tu cuenta de Spotify Premium para activar el sistema de audio del bar.</p>
        <button (click)="conectarSpotify()" class="btn-primary glow">
          <img src="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_CMYK_Black.png" class="spotify-logo-btn">
          Conectar Ahora
        </button>
      </div>
    </div>

    <div *ngIf="spotifyConnected" class="glass-card setup-card fade-in">
      <div class="header-setup">
        <div class="icon-static">ðŸ“»</div>
        <h2>MÃºsica de Ambiente</h2>
      </div>
      <p>Elige la playlist que sonarÃ¡ cuando no haya pedidos de clientes.</p>
      
      <div class="search-box">
        <input type="text" [(ngModel)]="busqueda" (keyup.enter)="buscar()" placeholder="Ej: Rock FM, Top 50 EspaÃ±a...">
        <button (click)="buscar()" class="btn-search">Buscar</button>
      </div>

      <div class="results-list" *ngIf="resultados.length > 0">
        <div class="playlist-item" *ngFor="let pl of resultados" (click)="seleccionar(pl)">
          <img [src]="pl.images[0]?.url || 'assets/disc.png'" class="pl-img">
          <div class="pl-info">
            <span class="pl-name">{{ pl.name }}</span>
            <span class="pl-tracks">{{ pl.tracks.total }} canciones</span>
          </div>
          <button class="btn-select">Elegir</button>
        </div>
      </div>
      
      <p *ngIf="resultados.length === 0 && busqueda" class="no-results">No se encontraron playlists.</p>
    </div>

  </div>
</div>